let pokemonRepo=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=50",n=document.querySelector("#pokedex");function o(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(function(e){console.error(e)})}function i(t){2===Object.keys(t).length?e.push(t):alert("you have to add two keys")}function c(e){o(e).then(function(){!function(e){let t=$(".modal-body"),n=$(".modal-title");t.empty(),n.empty();let o=$("<h1>"+e.name+"</h1>"),i=$("<p>Height: "+e.height+"<p>"),c=$('<img class="modal-img" src="" >');c.attr("src",e.imageUrl),n.append(o),t.append(c),t.append(i),$("#pokedex").modal()}(e)})}function l(){n.classList.remove("is-visible")}return fetch("https://pokeapi.co/api/v2/pokemon/").then(function(e){return e.json()}).then(function(e){console.log(e)}).catch(function(){}),window.addEventListener("keydown",e=>{let t=document.querySelector("#pokedex");"Escape"===e.key&&t.classList.contains("is-visible")&&l()}),fetch("https://pokeapi.co/api/v2/pokemon/").then(function(e){return e.json()}).then(function(e){console.log(e)}).catch(function(){}),{add:i,getAll:function(){return e},addList:function(e){let t=document.querySelector(".pokemon-list"),n=document.createElement("li"),o=document.createElement("button");o.innerText=e.name,o.classList.add("newColor"),n.appendChild(o),t.appendChild(n),o.addEventListener("click",function(){c(e)})},loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){i({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:o,showDetails:c}}();pokemonRepo.loadList().then(function(){pokemonRepo.getAll().forEach(function(e){pokemonRepo.addList(e)})});